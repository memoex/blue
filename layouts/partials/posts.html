{{ if or ( eq .Kind "page" ) ( eq .Kind "section" ) }}
    {{ $.Scratch.Set "posts" (where .Site.RegularPages "Section" .Section) }}
{{ else if eq .Kind "home" }}
    {{ $.Scratch.Set "posts" (where .Site.RegularPages "Section" "post") }}
{{ else }}
    {{ $.Scratch.Set "posts" .Data.Pages }}
{{ end }}

{{ $posts := $.Scratch.Get "posts" }}

<main>
    <div class="p-0 container-fluid rounded">
        {{ range $posts -}}
            <div class="col-12">
                <h1 class="bd-title">
                    <a class="text-dark bd-title" href="{{ .Permalink }}">{{ .Title }}</a>
                </h1>
                {{ partial "post-info" . }}
                <div class="bd-content">
                    {{ .Summary }}
                </div>

                <button class="col btn btn-light py-1" type="button" onclick="location.href='{{ .Permalink }}'" >
                    <i class="py-2 fa fa-chevron-right fa-lg" aria-hidden="true"></i>
                </button>

                <hr class="mt-4 mb-5 grey-border border-lighten-1"/>
            </div>
        {{- end }}
    </div>
</main>
